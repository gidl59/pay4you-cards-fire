{% extends "base.html" %}
{% block title %}{% if agent %}Modifica agente{% else %}Nuovo agente{% endif %}{% endblock %}

{% block content %}
<div class="page-main">
  <div class="agent-form-wrapper">
    <h1 class="agent-form-title">{% if agent %}Modifica agente{% else %}Nuovo agente{% endif %}</h1>

    <form class="agent-form"
          method="post"
          enctype="multipart/form-data"
          action="{% if agent %}{{ url_for('update_agent', slug=agent.slug) }}{% else %}{{ url_for('create_agent') }}{% endif %}">

      <label>Slug (link card)</label>
      <input type="text" name="slug" required value="{{ agent.slug if agent else '' }}" placeholder="es: pasqualesp">

      <label>Nome e Cognome</label>
      <input type="text" name="name" required value="{{ agent.name if agent else '' }}">

      <label>Azienda</label>
      <input type="text" name="company" value="{{ agent.company if agent else '' }}">

      <label>Ruolo</label>
      <input type="text" name="role" value="{{ agent.role if agent else '' }}">

      <label>Descrizione breve (Bio)</label>
      <textarea name="bio" placeholder="Una frase breve...">{{ agent.bio if agent else '' }}</textarea>

      <label>Telefono Mobile</label>
      <input type="text" name="phone_mobile" value="{{ agent.phone_mobile if agent else '' }}">

      <label>Telefono Ufficio</label>
      <input type="text" name="phone_office" value="{{ agent.phone_office if agent else '' }}">

      <label>Email (separate da virgola)</label>
      <input type="text" name="emails" value="{{ agent.emails if agent else '' }}" placeholder="a@b.it, c@d.it">

      <label>Siti web (separati da virgola)</label>
      <input type="text" name="websites" value="{{ agent.websites if agent else '' }}" placeholder="https://..., https://...">

      <label>Facebook</label>
      <input type="text" name="facebook" value="{{ agent.facebook if agent else '' }}">

      <label>Instagram</label>
      <input type="text" name="instagram" value="{{ agent.instagram if agent else '' }}">

      <label>LinkedIn</label>
      <input type="text" name="linkedin" value="{{ agent.linkedin if agent else '' }}">

      <label>TikTok</label>
      <input type="text" name="tiktok" value="{{ agent.tiktok if agent else '' }}">

      <label>Telegram</label>
      <input type="text" name="telegram" value="{{ agent.telegram if agent else '' }}">

      <label>WhatsApp</label>
      <input type="text" name="whatsapp" value="{{ agent.whatsapp if agent else '' }}">

      <label>PEC</label>
      <input type="text" name="pec" value="{{ agent.pec if agent else '' }}">

      <label>Partita IVA</label>
      <input type="text" name="piva" value="{{ agent.piva if agent else '' }}">

      <label>Codice SDI</label>
      <input type="text" name="sdi" value="{{ agent.sdi if agent else '' }}">

      <label>Indirizzi (uno per riga)</label>
      <textarea name="addresses" placeholder="Via..., CAP..., Città...">{{ agent.addresses if agent else '' }}</textarea>

      <hr style="opacity:.25; margin:14px 0;">

      <label>Foto profilo (carica solo se vuoi sostituire)</label>
      <input type="file" name="photo" accept="image/*">

      <label>Logo (carica solo se vuoi sostituire)</label>
      <input type="file" name="extra_logo" accept="image/*">

      <label>Galleria foto (max 30, seleziona più file insieme)</label>
      <input type="file" name="gallery" accept="image/*" multiple>

      <label>Galleria video (max 10, mp4/mov/webm, seleziona più file insieme)</label>
      <input type="file" name="videos" accept="video/*" multiple>

      <hr style="opacity:.25; margin:14px 0;">

      <label>PDF 1</label><input type="file" name="pdf1" accept="application/pdf">
      <label>PDF 2</label><input type="file" name="pdf2" accept="application/pdf">
      <label>PDF 3</label><input type="file" name="pdf3" accept="application/pdf">
      <label>PDF 4</label><input type="file" name="pdf4" accept="application/pdf">
      <label>PDF 5</label><input type="file" name="pdf5" accept="application/pdf">
      <label>PDF 6</label><input type="file" name="pdf6" accept="application/pdf">
      <label>PDF 7</label><input type="file" name="pdf7" accept="application/pdf">
      <label>PDF 8</label><input type="file" name="pdf8" accept="application/pdf">
      <label>PDF 9</label><input type="file" name="pdf9" accept="application/pdf">
      <label>PDF 10</label><input type="file" name="pdf10" accept="application/pdf">
      <label>PDF 11</label><input type="file" name="pdf11" accept="application/pdf">
      <label>PDF 12</label><input type="file" name="pdf12" accept="application/pdf">

      <div class="agent-form-buttons">
        <button type="submit">{% if agent %}Salva modifiche{% else %}Crea agente{% endif %}</button>
        <a class="btn-secondary" href="{{ url_for('admin_home') }}">Torna indietro</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
