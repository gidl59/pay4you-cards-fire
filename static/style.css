/* ===== Base ===== */
:root{
  --bg0:#060a12;
  --bg1:#0a1324;
  --panel:rgba(255,255,255,.06);
  --panel2:rgba(255,255,255,.08);
  --stroke:rgba(255,255,255,.12);
  --stroke2:rgba(255,255,255,.18);
  --txt:#eaf0ff;
  --muted:rgba(234,240,255,.72);
  --muted2:rgba(234,240,255,.55);

  --gold:#f3c62b;
  --cyan:#35c7ff;
  --red:#ff4d4d;
  --green:#35d07f;

  --radius:22px;
  --radius2:14px;
  --shadow:0 18px 60px rgba(0,0,0,.55);
  --shadow2:0 10px 30px rgba(0,0,0,.45);

  --glass:blur(18px);
  --maxw:1120px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--txt);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background:
    radial-gradient(1200px 800px at 10% 5%, rgba(243,198,43,.18), transparent 60%),
    radial-gradient(1200px 800px at 90% 20%, rgba(53,199,255,.16), transparent 60%),
    radial-gradient(900px 700px at 40% 100%, rgba(255,255,255,.06), transparent 55%),
    linear-gradient(180deg, var(--bg0), var(--bg1));
  overflow-x:hidden;
}

a{color:inherit}
a:hover{opacity:.95}
.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;}
.mono.big{font-size:15px; letter-spacing:.1px;}
.h3{margin:0 0 8px 0; font-size:16px; letter-spacing:.2px;}
.sep{
  width:100%;
  height:1px;
  background:linear-gradient(90deg, transparent, rgba(255,255,255,.16), transparent);
}

/* ===== App shell ===== */
.app-shell{min-height:100%; display:flex; flex-direction:column;}
.app-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 18px;
  border-bottom:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.18);
  backdrop-filter:var(--glass);
}
.brand{display:flex; align-items:center; gap:10px; text-decoration:none;}
.brand-logo{width:34px; height:34px; object-fit:contain; filter:drop-shadow(0 10px 18px rgba(0,0,0,.35));}
.brand-title{font-weight:900; letter-spacing:.2px;}
.app-header-right{display:flex; gap:14px; align-items:center;}
.header-link{color:rgba(255,255,255,.86); text-decoration:none; font-weight:700;}
.header-link:hover{color:#fff}

.app-main{flex:1; padding:22px 16px;}

/* ===== Flash ===== */
.flash-wrap{max-width:var(--maxw); margin:0 auto 14px auto;}
.flash{
  padding:10px 12px;
  border-radius:14px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12);
  box-shadow:var(--shadow2);
  font-weight:700;
}
.flash-success{border-color:rgba(53,208,127,.35)}
.flash-warning{border-color:rgba(243,198,43,.35)}
.flash-error{border-color:rgba(255,77,77,.35)}

/* ===== Layout containers ===== */
.page-main{width:100%; display:flex; justify-content:center; align-items:flex-start;}
.panel{
  width:min(var(--maxw), 100%);
  padding:18px;
  border-radius:var(--radius);
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.06);
  backdrop-filter:var(--glass);
  box-shadow:var(--shadow);
}
.panel-wide{width:min(1120px,100%);}
.panel-login{width:min(560px,100%); margin-top:18px;}
.panel-head{display:flex; align-items:flex-start; justify-content:space-between; gap:12px; margin-bottom:14px;}
.panel-head-center{flex-direction:column; align-items:center; text-align:center;}
.panel-body{margin-top:10px;}

.page-title{margin:0; font-size:28px; font-weight:950; letter-spacing:.2px;}
.hint{color:var(--muted); font-size:13px; line-height:1.35;}
.login-logo{width:72px; height:72px; object-fit:contain; margin-top:4px; filter:drop-shadow(0 18px 35px rgba(0,0,0,.45));}
.login-title{font-size:26px; font-weight:950; margin-top:8px}

/* ===== Buttons ===== */
.btn, .btn-pill, .btn-mini{
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  color:#fff;
  padding:10px 14px;
  border-radius:999px;
  cursor:pointer;
  text-decoration:none;
  font-weight:800;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  transition:.15s ease;
}
.btn:hover, .btn-pill:hover, .btn-mini:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.22); background:rgba(255,255,255,.08)}
.btn:active, .btn-pill:active, .btn-mini:active{transform:translateY(0)}
.btn.primary{
  border-color:rgba(243,198,43,.35);
  background:linear-gradient(90deg, rgba(243,198,43,.95), rgba(53,199,255,.55));
  color:#0b1220;
}
.btn.ghost, .btn-mini.ghost{
  background:transparent;
  border-color:rgba(255,255,255,.16);
  color:rgba(255,255,255,.9);
}
.btn-mini{padding:8px 12px; font-size:13px; font-weight:900}
.btn-mini.warn{
  border-color:rgba(243,198,43,.38);
  color:#ffe08a;
}
.btn-mini.danger{
  border-color:rgba(255,77,77,.35);
  color:#ffb2b2;
}
.btn-row{display:flex; gap:10px; align-items:center;}
.toolbar{display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end}

/* ===== Form ===== */
.form-grid{
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 1fr));
  gap:14px;
}
.field{display:flex; flex-direction:column; gap:7px;}
.field.full{grid-column:1 / -1}
.field label{font-weight:900; color:rgba(255,255,255,.92); font-size:13px;}
input[type="text"], input[type="password"], textarea{
  width:100%;
  padding:12px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(8,12,20,.55);
  color:#fff;
  outline:none;
  box-shadow:inset 0 0 0 1px rgba(0,0,0,.18);
}
textarea{min-height:92px; resize:vertical;}
input[readonly]{opacity:.85; cursor:not-allowed;}
input:focus, textarea:focus{
  border-color:rgba(53,199,255,.35);
  box-shadow:0 0 0 4px rgba(53,199,255,.12);
}

details{
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.04);
  border-radius:16px;
  padding:12px;
}
summary{
  cursor:pointer;
  font-weight:950;
  letter-spacing:.2px;
}
.grid-2{display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:12px;}
.grid-3{display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:10px;}
.btn-mini input{accent-color:var(--gold);}
.actions-footer{display:flex; gap:10px; flex-wrap:wrap; align-items:center;}

/* Responsive form */
@media (max-width: 860px){
  .form-grid{grid-template-columns:1fr;}
  .grid-2{grid-template-columns:1fr;}
  .grid-3{grid-template-columns:1fr;}
  .toolbar{justify-content:flex-start}
}

/* ===== Admin list table ===== */
.admin-wrap{width:min(var(--maxw), 100%);}
.admin-head{
  display:flex; justify-content:space-between; align-items:flex-end;
  gap:10px; margin:0 auto 12px auto;
}
.admin-title{font-size:30px; font-weight:950; margin:0}
.admin-sub{color:var(--muted); font-size:13px; margin-top:4px}
.table-card{
  border-radius:var(--radius);
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.05);
  backdrop-filter:var(--glass);
  overflow:hidden;
  box-shadow:var(--shadow);
}
.table-row{
  display:grid;
  grid-template-columns: 280px 220px 1fr;
  gap:12px;
  padding:14px 14px;
  border-top:1px solid rgba(255,255,255,.08);
  align-items:center;
}
.table-row:first-child{border-top:none}
.table-head{background:rgba(255,255,255,.06); font-weight:950; color:rgba(255,255,255,.88);}
.name-badge{
  display:inline-flex; align-items:center; gap:8px;
  font-weight:950;
  padding:8px 12px;
  border-radius:999px;
  background:linear-gradient(90deg, rgba(53,199,255,.18), rgba(243,198,43,.14));
  border:1px solid rgba(255,255,255,.12);
}
.slug-badge{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
  font-weight:900;
  padding:8px 12px;
  border-radius:999px;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.12);
  color:rgba(255,255,255,.88);
}
.actions-cell{display:flex; flex-wrap:wrap; gap:10px; align-items:center;}
@media (max-width: 980px){
  .table-row{grid-template-columns:1fr; gap:10px;}
}

/* ===== Card ===== */
.card-outer{width:min(760px, 100%); padding:14px;}
.hero{
  position:relative;
  padding:22px 18px 12px 18px;
  border-radius:var(--radius);
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.05);
  backdrop-filter:var(--glass);
  box-shadow:var(--shadow);
}
.hero-center{text-align:center}

.avatar-wrap{position:relative; display:flex; justify-content:center; margin-top:10px; margin-bottom:14px;}

/* ✅ LOGO TOP-LEFT: grande, scontornato, NO quadrato */
.top-left-logo{
  position:fixed;
  left:16px;
  top:16px;
  width:98px;
  height:98px;
  z-index:9999;
  display:flex;
  align-items:center;
  justify-content:center;
  background:transparent;
  border:none;
  border-radius:0;
  box-shadow:none;
  backdrop-filter:none;
  -webkit-tap-highlight-color: transparent;
}
.top-left-logo img{
  width:100%;
  height:100%;
  object-fit:contain;
  background:transparent;
  border-radius:0;
  box-shadow:none;
  filter:drop-shadow(0 10px 20px rgba(0,0,0,.35));
}

/* ✅ orbit */
.orbit{
  position:absolute;
  width:210px;
  height:210px;
  border-radius:50%;
  background:radial-gradient(circle at 35% 25%, rgba(53,199,255,.18), rgba(243,198,43,.12) 55%, rgba(255,255,255,.06));
  border:1px solid rgba(255,255,255,.10);
  display:flex; align-items:center; justify-content:center;
}
.orbit img{width:46%; height:46%; object-fit:contain; opacity:.95; filter:drop-shadow(0 16px 30px rgba(0,0,0,.45));}

/* Flip */
.flip{
  width:220px;
  height:220px;
  perspective:1200px;
  position:relative;
  z-index:2;
}
.flip-inner{
  position:absolute;
  inset:0;
  transform-style:preserve-3d;
  transition:transform .7s cubic-bezier(.2,.9,.2,1);
}
.flip.is-flippable{cursor:pointer;}
.flip.flipped .flip-inner{transform:rotateY(180deg);}
.flip-front, .flip-back{
  position:absolute; inset:0;
  backface-visibility:hidden;
}
.flip-back{transform:rotateY(180deg);}

.avatar{
  width:220px;
  height:220px;
  border-radius:50%;
  border:3px solid rgba(243,198,43,.55);
  background:rgba(0,0,0,.25);
  overflow:hidden;
  box-shadow:0 18px 40px rgba(0,0,0,.55);
}
.avatar-img{
  width:100%; height:100%;
  object-fit:cover;
  object-position:50% 35%; /* ✅ centra meglio il volto */
  display:block;
}
.avatar-placeholder{
  width:100%; height:100%;
  display:flex; align-items:center; justify-content:center;
  font-size:44px;
  color:rgba(255,255,255,.85);
}

/* auto flip */
@keyframes autoFlip {
  0%{transform:rotateY(0deg)}
  40%{transform:rotateY(0deg)}
  60%{transform:rotateY(180deg)}
  100%{transform:rotateY(180deg)}
}
.flip.auto-flip .flip-inner{
  animation:autoFlip 2.2s ease-in-out infinite alternate;
}

/* logo spin back */
@keyframes spinLogo {
  from{transform:rotate(0deg)}
  to{transform:rotate(360deg)}
}
.spin-logo{animation:spinLogo 4.8s linear infinite;}

/* orbit spin */
@keyframes spinOrbit {
  from{transform:rotate(0deg)}
  to{transform:rotate(360deg)}
}
.spin{animation:spinOrbit 8s linear infinite;}

/* hero text */
.name{
  font-size:34px;
  font-weight:950;
  letter-spacing:.2px;
  margin-top:6px;
  margin-bottom:0;
  line-height:1.05;
}
.company-badge{
  display:inline-flex;
  padding:8px 14px;
  border-radius:999px;
  margin:10px 0 8px 0;
  font-weight:900;
  border:1px solid rgba(243,198,43,.35);
  background:rgba(243,198,43,.12);
  color:#ffe9a9;
}
.role{color:rgba(255,255,255,.82); font-weight:800; margin-top:6px;}
.bio{color:rgba(255,255,255,.70); margin-top:8px; line-height:1.35}

.profile-switch{display:flex; gap:10px; justify-content:center; margin-top:14px;}
.profile-pill{
  text-decoration:none;
  padding:9px 14px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  font-weight:950;
}
.profile-pill.active{
  border-color:rgba(243,198,43,.40);
  box-shadow:0 0 0 4px rgba(243,198,43,.12);
}

/* Social icons */
.social-icons{display:flex; gap:10px; justify-content:center; margin-top:12px; flex-wrap:wrap;}
.soc{
  width:42px; height:42px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(0,0,0,.18);
  display:flex; align-items:center; justify-content:center;
  box-shadow:var(--shadow2);
  transition:.14s ease;
}
.soc:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.22);}

/* Sections */
.section{
  margin-top:12px;
  padding:16px 14px;
  border-radius:var(--radius);
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.05);
  backdrop-filter:var(--glass);
  box-shadow:var(--shadow2);
}
.section-title{
  font-size:22px;
  font-weight:950;
  margin-bottom:12px;
}
.actions-row{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.action-btn{
  flex:1;
  min-width:140px;
  text-decoration:none;
  border-radius:16px;
  padding:12px 12px;
  font-weight:950;
  text-align:center;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  cursor:pointer;
}
.action-vcf{border-color:rgba(53,199,255,.28)}
.action-wa{border-color:rgba(53,208,127,.30)}
.action-qr{border-color:rgba(243,198,43,.28)}
.actions-hint{margin-top:10px; color:var(--muted); font-size:13px}

.row{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
  padding:12px 12px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.14);
  margin-top:10px;
}
.row a{text-decoration:none; font-weight:900; color:#fff}
.row-tag{
  font-weight:950;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.06);
  color:rgba(255,255,255,.88);
  white-space:nowrap;
}
.tag-phone{border-color:rgba(53,199,255,.28)}
.tag-email{border-color:rgba(243,198,43,.28)}
.tag-web{border-color:rgba(255,255,255,.16)}
.tag-data{border-color:rgba(255,255,255,.16)}

.right-stack{display:flex; flex-direction:column; align-items:flex-end; gap:10px;}
.stack-item{line-height:1.2}

/* addresses */
.addr-list{display:flex; flex-direction:column; gap:10px;}
.addr-item{
  text-decoration:none;
  padding:12px 12px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.14);
}
.addr-mini{margin-top:6px; color:rgba(255,255,255,.65); font-weight:800; font-size:12px}

/* theme toggle */
.theme-toggle{display:flex; align-items:center; gap:10px; flex-wrap:wrap;}
.theme-label{color:rgba(255,255,255,.8); font-weight:900;}
.theme-pill{
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  color:#fff;
  padding:8px 12px;
  border-radius:999px;
  cursor:pointer;
  font-weight:950;
}
.theme-pill.active{
  border-color:rgba(243,198,43,.40);
  box-shadow:0 0 0 4px rgba(243,198,43,.10);
}

/* gallery */
.gallery-scroll{
  display:flex;
  gap:12px;
  overflow:auto;
  padding-bottom:6px;
  scroll-snap-type:x mandatory;
}
.thumb{
  border:none;
  background:transparent;
  padding:0;
  cursor:pointer;
  scroll-snap-align:start;
}
.thumb img{
  width:160px; height:120px;
  object-fit:cover;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.14);
  box-shadow:var(--shadow2);
}

/* video thumbs */
.video-thumb{
  width:190px; height:120px;
  border-radius:18px;
  overflow:hidden;
  position:relative;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(0,0,0,.35);
  box-shadow:var(--shadow2);
}
.video-mini{
  width:100%; height:100%;
  object-fit:cover;
  display:block;
}
.video-play{
  position:absolute;
  left:10px; bottom:10px;
  padding:8px 12px;
  border-radius:999px;
  background:rgba(0,0,0,.55);
  border:1px solid rgba(255,255,255,.18);
  font-weight:950;
}

/* pdf */
.pdf-list{display:flex; gap:10px; flex-wrap:wrap;}
.pdf-btn{
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  color:#fff;
  padding:10px 12px;
  border-radius:14px;
  cursor:pointer;
  font-weight:900;
}

/* footer */
.footer{
  text-align:center;
  margin-top:14px;
  color:rgba(255,255,255,.55);
  font-weight:800;
  font-size:12px;
}

/* ===== MODALS ===== */
.modal-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.65);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:50;
  padding:18px;
}
.modal-box{
  width:min(980px, 100%);
  border-radius:22px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(10,14,22,.82);
  backdrop-filter:blur(18px);
  box-shadow:var(--shadow);
  position:relative;
  padding:12px;
}
.modal-box.modal-big{
  width:min(1100px, 100%);
  padding:12px;
}
.modal-x{
  position:absolute;
  right:10px; top:10px;
  width:42px; height:42px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(0,0,0,.25);
  color:#fff;
  cursor:pointer;
  font-weight:950;
}

/* ✅ FRECCIA “TORNA ALLA CARD” */
.modal-back{
  position:absolute;
  left:10px; top:10px;
  width:42px; height:42px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(0,0,0,.25);
  color:#fff;
  cursor:pointer;
  font-weight:950;
  display:flex;
  align-items:center;
  justify-content:center;
}

.modal-actions{
  display:flex;
  justify-content:flex-end;
  gap:10px;
  margin-top:10px;
  flex-wrap:wrap;
}

#mImg{
  width:100%;
  max-height:90vh;
  object-fit:contain;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.25);
}
#mVideo{
  width:100%;
  max-height:85vh;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.25);
}
#mPdf{
  width:100%;
  height:85vh;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.25);
}

/* ===== Theme: LIGHT ===== */
body[data-theme="light"]{
  color:#0f172a;
  background:
    radial-gradient(1200px 800px at 10% 5%, rgba(243,198,43,.35), transparent 55%),
    radial-gradient(1200px 800px at 90% 20%, rgba(53,199,255,.30), transparent 55%),
    linear-gradient(180deg, #f4f7ff, #e6efff);
}
body[data-theme="light"] .panel,
body[data-theme="light"] .hero,
body[data-theme="light"] .section,
body[data-theme="light"] .table-card,
body[data-theme="light"] .modal-box{
  background:rgba(255,255,255,.78);
  border-color:rgba(15,23,42,.12);
}
body[data-theme="light"] input[type="text"],
body[data-theme="light"] input[type="password"],
body[data-theme="light"] textarea{
  background:#ffffff;
  border-color:rgba(15,23,42,.14);
  color:#0f172a;
}
body[data-theme="light"] .hint{color:rgba(15,23,42,.65)}
body[data-theme="light"] .row{background:rgba(255,255,255,.70); border-color:rgba(15,23,42,.12)}
body[data-theme="light"] .row a{color:#0f172a}
body[data-theme="light"] .soc{background:rgba(255,255,255,.92); border-color:rgba(15,23,42,.12)}
body[data-theme="light"] .modal-overlay{background:rgba(15,23,42,.45)}
body[data-theme="light"] .modal-x{
  background:rgba(255,255,255,.92);
  color:#0f172a;
  border-color:rgba(15,23,42,.14);
}
body[data-theme="light"] .modal-back{
  background:rgba(255,255,255,.92);
  color:#0f172a;
  border-color:rgba(15,23,42,.14);
}

body[data-theme="light"] .section-title,
body[data-theme="light"] .page-title,
body[data-theme="light"] .admin-title,
body[data-theme="light"] .name,
body[data-theme="light"] .role,
body[data-theme="light"] .bio,
body[data-theme="light"] .theme-label{
  color:#0f172a;
}
body[data-theme="light"] .bio{color:rgba(15,23,42,.72)}
body[data-theme="light"] .actions-hint,
body[data-theme="light"] .addr-mini,
body[data-theme="light"] .footer{
  color:rgba(15,23,42,.62);
}

body[data-theme="light"] .action-btn,
body[data-theme="light"] .theme-pill,
body[data-theme="light"] .profile-pill,
body[data-theme="light"] .pdf-btn{
  color:#0f172a;
  background:rgba(15,23,42,.06);
  border-color:rgba(15,23,42,.14);
}
body[data-theme="light"] .theme-pill.active,
body[data-theme="light"] .profile-pill.active{
  border-color:rgba(243,198,43,.55);
  box-shadow:0 0 0 4px rgba(243,198,43,.14);
}
body[data-theme="light"] .row-tag{
  color:#0f172a;
  background:rgba(15,23,42,.05);
  border-color:rgba(15,23,42,.14);
}
body[data-theme="light"] #mPdf{
  background:#fff;
  border-color:rgba(15,23,42,.14);
}

/* Small screens */
@media (max-width: 520px){
  .name{font-size:30px}
  .avatar, .flip{width:200px; height:200px}
  .thumb img{width:150px; height:112px}
  .video-thumb{width:175px}
  .top-left-logo{width:82px; height:82px; left:12px; top:12px;}
}
/* ===============================
   ✅ FIX iPhone / Safari (VIDEO THUMB)
   =============================== */
.video-mini{
  background: #000;
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
}
.video-thumb{
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
}
.video-play{
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
}

/* ===============================
   ✅ LIGHT THEME: più contrasto su testi piccoli
   =============================== */
body[data-theme="light"] .header-link{
  color: rgba(15,23,42,.82);
}
body[data-theme="light"] .header-link:hover{
  color:#0f172a;
}
body[data-theme="light"] .brand-title{
  color:#0f172a;
}
/* =========================
   EXTRA: hint-box / section-box / linklike / form wrap
   ========================= */
.hint-box{
  margin-top:12px;
  padding:12px 12px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.05);
  color:rgba(255,255,255,.92);
  box-shadow:0 10px 30px rgba(0,0,0,.35);
  line-height:1.35;
}
body[data-theme="light"] .hint-box{
  background:rgba(255,255,255,.86);
  border-color:rgba(15,23,42,.12);
  color:#0f172a;
}

.section-box{
  margin-top:12px;
  padding:16px 14px;
  border-radius:22px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.05);
  backdrop-filter: blur(18px);
  box-shadow:0 10px 30px rgba(0,0,0,.35);
}
body[data-theme="light"] .section-box{
  background:rgba(255,255,255,.78);
  border-color:rgba(15,23,42,.12);
}

.form-wrap{width:min(var(--maxw), 100%); margin:0 auto;}
.form-head{display:flex; justify-content:space-between; align-items:flex-end; gap:12px; flex-wrap:wrap;}
.form-title{font-size:30px; font-weight:950; margin:0}
.form-sub{color:var(--muted); font-size:13px; margin-top:6px}
.form-actions{display:flex; gap:10px; flex-wrap:wrap}

.card-form{margin-top:14px;}
.sticky-save{
  position:sticky;
  bottom:12px;
  margin-top:14px;
  padding:10px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(0,0,0,.18);
  backdrop-filter: blur(14px);
  display:flex;
  gap:10px;
  justify-content:flex-end;
  flex-wrap:wrap;
  box-shadow:0 10px 30px rgba(0,0,0,.35);
}
body[data-theme="light"] .sticky-save{
  background:rgba(255,255,255,.82);
  border-color:rgba(15,23,42,.12);
}

/* Bottone "linklike" per siti: sembra link, ma è button */
.linklike{
  border:none;
  background:transparent;
  color:inherit;
  font-weight:900;
  cursor:pointer;
  padding:0;
  text-decoration:underline;
  opacity:.95;
}
.linklike:hover{opacity:1}
/* ===== componenti mancanti (hint-box / section-box / linklike) ===== */
.hint-box{
  margin-top:12px;
  padding:12px 14px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  box-shadow:0 10px 30px rgba(0,0,0,.35);
  color:rgba(255,255,255,.92);
  line-height:1.35;
}
.section-box{
  margin-top:14px;
  padding:14px;
  border-radius:22px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.05);
  backdrop-filter:blur(18px);
  box-shadow:0 12px 34px rgba(0,0,0,.35);
}
.linklike{
  border:none;
  background:transparent;
  color:inherit;
  font-weight:950;
  cursor:pointer;
  padding:0;
  text-align:right;
}
.linklike:hover{opacity:.9; text-decoration:underline;}

/* ===== FIX: in tema chiaro i bottoni del modal devono essere leggibili ===== */
body[data-theme="light"] .modal-actions .btn,
body[data-theme="light"] .modal-actions .btn.ghost{
  color:#0f172a !important;
}
body[data-theme="light"] .modal-actions .btn.ghost{
  background:rgba(15,23,42,.06) !important;
  border-color:rgba(15,23,42,.14) !important;
}
body[data-theme="light"] .modal-actions .btn.primary{
  color:#0b1220 !important;
}

/* ===== Pagine interne (webview/share/docview) ===== */
.out-shell{
  width:min(1100px, 100%);
  margin:0 auto;
  padding:16px;
}
.out-head{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
  margin-bottom:12px;
}
.out-title{
  font-size:18px;
  font-weight:950;
  color:rgba(255,255,255,.92);
}
.out-frame{
  width:100%;
  height:min(78vh, 760px);
  border-radius:18px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(0,0,0,.18);
  overflow:hidden;
  box-shadow:0 18px 60px rgba(0,0,0,.45);
}
.out-frame iframe{
  width:100%;
  height:100%;
  border:0;
  background:transparent;
}

.out-box{
  border-radius:22px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  backdrop-filter:blur(18px);
  box-shadow:0 18px 60px rgba(0,0,0,.45);
  padding:14px;
}
.out-textarea{
  width:100%;
  min-height:120px;
  padding:12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(0,0,0,.18);
  color:#fff;
  outline:none;
}
.out-actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:10px;
}

/* light theme anche qui */
body[data-theme="light"] .out-title{color:#0f172a}
body[data-theme="light"] .out-frame,
body[data-theme="light"] .out-box{
  background:rgba(255,255,255,.82);
  border-color:rgba(15,23,42,.14);
}
body[data-theme="light"] .out-textarea{
  background:#fff;
  border-color:rgba(15,23,42,.14);
  color:#0f172a;
}
/* ===============================
   ✅ EXTRA: hint-box + section-box
   =============================== */
.hint-box{
  margin-top:12px;
  padding:12px 12px;
  border-radius:16px;
  border:1px solid rgba(53,199,255,.22);
  background:rgba(53,199,255,.08);
  color:rgba(255,255,255,.92);
  font-weight:800;
  line-height:1.35;
}
.section-box{
  margin-top:14px;
  padding:14px 14px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.04);
}

/* ✅ light theme: bottoni modal leggibili */
body[data-theme="light"] .modal-actions .btn{
  color:#0f172a !important;
  border-color:rgba(15,23,42,.16) !important;
  background:rgba(255,255,255,.92) !important;
}
body[data-theme="light"] .modal-actions .btn.primary{
  color:#0b1220 !important;
}
/* ===== Missing classes (agent_form) ===== */
.hint-box{
  margin-top:10px;
  padding:12px 12px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  color:rgba(255,255,255,.88);
  box-shadow: var(--shadow2);
}
.section-box{
  margin-top:12px;
  padding:16px 14px;
  border-radius:var(--radius);
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.05);
  backdrop-filter:var(--glass);
  box-shadow:var(--shadow2);
}

/* ===== Dashboard previews ===== */
.dash-preview{display:flex; flex-direction:column; gap:10px;}
.dash-thumb{
  width:100%;
  max-width:210px;
  height:120px;
  object-fit:cover;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.14);
  box-shadow: var(--shadow2);
  background: rgba(0,0,0,.25);
}
.dash-thumb-empty{
  display:flex; align-items:center; justify-content:center;
  width:100%; max-width:210px; height:120px;
  border-radius:16px;
  border:1px dashed rgba(255,255,255,.18);
  color: rgba(255,255,255,.6);
}
.dash-video{position:relative; width:100%; max-width:210px; height:120px; border-radius:16px; overflow:hidden;
  border:1px solid rgba(255,255,255,.14); box-shadow:var(--shadow2);
}
.dash-video-mini{width:100%; height:100%; object-fit:cover; background:#000;}
.dash-video-badge{
  position:absolute; left:10px; bottom:10px;
  padding:6px 10px; border-radius:999px;
  background:rgba(0,0,0,.55);
  border:1px solid rgba(255,255,255,.18);
  font-weight:900; font-size:12px;
}
.dash-pdfs{display:flex; flex-wrap:wrap; gap:6px; max-width:210px;}
.dash-pdf-name{
  display:inline-flex;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  font-weight:900;
  font-size:12px;
  max-width:210px;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}

/* ===== Effects: rotate avatar image ===== */
@keyframes spinAvatar {
  from{transform:rotate(0deg)}
  to{transform:rotate(360deg)}
}
.spin-avatar{
  animation:spinAvatar 6.5s linear infinite;
}

/* ===== Light theme: company badge leggibile ===== */
body[data-theme="light"] .company-badge{
  border-color: rgba(15,23,42,.18);
  background: rgba(15,23,42,.08);
  color: #0f172a;
}

/* ===== Light theme: modal buttons leggibili ===== */
body[data-theme="light"] .modal-actions .btn{
  color:#0f172a;
  symbol: none;
}
body[data-theme="light"] .modal-actions .btn.ghost{
  background: rgba(15,23,42,.06);
  border-color: rgba(15,23,42,.14);
}
/* ====== FIX SPIN / FLIP ====== */
@keyframes p4ySpin { from{ transform:rotate(0deg);} to{ transform:rotate(360deg);} }

.orbit.spin{ animation:p4ySpin 6s linear infinite; }
.spin-logo{ animation:p4ySpin 6s linear infinite; }

.flip{ perspective: 1200px; }
.flip-inner{ transition: transform .7s ease; transform-style: preserve-3d; }
.flip.flipped .flip-inner{ transform: rotateY(180deg); }
.flip-front, .flip-back{ backface-visibility:hidden; position:absolute; inset:0; }
.flip-back{ transform: rotateY(180deg); }
.flip .flip-inner{ position:relative; width:100%; height:100%; }

.flip.auto-flip .flip-inner{ animation: p4yAutoFlip 3.8s ease-in-out infinite; }
@keyframes p4yAutoFlip{
  0%, 40% { transform: rotateY(0deg); }
  60%, 100% { transform: rotateY(180deg); }
}

/* ====== COMPANY LEGGIBILE IN CHIARO ====== */
body[data-theme="light"] .company-badge{
  color: rgba(0,0,0,.78) !important;
  background: rgba(255,255,255,.72) !important;
  border: 1px solid rgba(0,0,0,.12) !important;
}
